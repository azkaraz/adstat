<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест VK ID SDK</title>
    <script src="https://vk.com/js/api/openapi.js?169" async></script>
</head>
<body>
    <h1>Тест загрузки VK ID SDK</h1>
    <div id="status">Проверяем загрузку SDK...</div>
    <div id="logs"></div>

    <script>
        function log(message) {
            console.log(message);
            document.getElementById('logs').innerHTML += '<p>' + message + '</p>';
        }

        function checkVKSDK() {
            log('Проверяем window.VK: ' + (window.VK ? 'ДОСТУПЕН' : 'НЕ ДОСТУПЕН'));
            
            if (window.VK) {
                log('VK ID SDK загружен успешно!');
                try {
                    window.VK.init({
                        apiId: 53860967
                    });
                    log('VK ID SDK инициализирован с apiId: 53860967');
                    document.getElementById('status').innerHTML = '<span style="color: green;">✅ VK ID SDK загружен и инициализирован</span>';
                } catch (error) {
                    log('Ошибка инициализации VK ID SDK: ' + error.message);
                    document.getElementById('status').innerHTML = '<span style="color: red;">❌ Ошибка инициализации</span>';
                }
            } else {
                log('VK ID SDK еще не загружен');
                setTimeout(checkVKSDK, 100);
            }
        }

        // Начинаем проверку через 1 секунду после загрузки страницы
        setTimeout(checkVKSDK, 1000);
    </script>
</body>
</html> 